(this.webpackJsonpreddit_client=this.webpackJsonpreddit_client||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={Post:"Post_Post__3Qi_F",Text:"Post_Text__10iDb",PostImage:"Post_PostImage__-IAZc",PostVideo:"Post_PostVideo__rP1Lo",Comments:"Post_Comments__2qRsG",FetchCommentsBtn:"Post_FetchCommentsBtn__KTxsi",BottomSection:"Post_BottomSection__1wrbK",BottomSectionInfo:"Post_BottomSectionInfo__34XaG",Votes:"Post_Votes__Gn37z"}},,,,,,,function(e,t,n){e.exports={Comment:"Comment_Comment__1ulVA",Author:"Comment_Author__25z0A",CommentText:"Comment_CommentText__3z0BK"}},,,,function(e,t,n){e.exports={Header:"Header_Header__3tb1-"}},function(e,t,n){e.exports={SearchBar:"SearchBar_SearchBar__1SDbh"}},function(e,t,n){e.exports={Community:"Community_Community__2FGMM"}},function(e,t,n){e.exports={Communities:"Communities_Communities__w1fut"}},function(e,t,n){e.exports={Posts:"Posts_Posts__SP5zO"}},function(e,t,n){e.exports={Comments:"Comments_Comments__14yZ0"}},,,function(e,t,n){e.exports={ldsDefault:"LoadingSpinner_ldsDefault__1spd4"}},,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var c,s,r=n(0),o=n.n(r),i=n(10),a=n.n(i),j=(n(33),n(34),n(3)),u=n(2),l=n(18),m=n.n(l),d=n(4),b=n(19),O=n.n(b),h=n(6),x=n(9),f=n.n(x),p=n(12),_=n(8),v=Object(_.b)("posts/fetchPosts",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:return s=e.sent,e.abrupt("return",s);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()),g=Object(_.c)({name:"posts",initialState:{posts:[],isLoading:!1,error:null},reducers:{},extraReducers:(c={},Object(h.a)(c,v.pending,(function(e,t){e.isLoading=!0,e.error=null})),Object(h.a)(c,v.fulfilled,(function(e,t){e.isLoading=!1,e.error=null,e.posts=t.payload})),Object(h.a)(c,v.rejected,(function(e,t){e.isLoading=!1,e.posts=null,e.error=t.error})),c)}).reducer,C=function(e){return encodeURI("https://www.reddit.com/r/".concat(e,".json"))},P=n(1),w=function(){var e=Object(j.b)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(P.jsx)("section",{className:O.a.SearchBar,children:Object(P.jsx)("input",{placeholder:"Type to search",onChange:function(t){var n=t.target.value;(s(n),c)&&e(v(encodeURI("https://www.reddit.com/search.json?q=".concat(c))))}})})},S=function(){return Object(P.jsxs)("header",{className:m.a.Header,children:[Object(P.jsx)("h1",{children:Object(P.jsxs)("a",{href:"http://localhost:3000",children:[Object(P.jsx)("span",{style:{color:"red"},children:"Top"}),"Reddit"]})}),Object(P.jsx)(w,{})]})},N=n(20),y=n.n(N),B=function(e){return Object(P.jsx)("section",{className:y.a.Community,children:Object(P.jsx)("li",{onClick:e.clicked,children:Object(P.jsx)("em",{children:e.name})})})},k=n(21),L=n.n(k),I=Object(_.b)("comments/fetchComments",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.reddit.com".concat(t,".json"));case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(_.c)({name:"comments",initialState:{comments:[],isLoading:!1,error:null},reducers:{deleteComments:function(e,t){e.comments=[],e.isLoading=!1,e.error=null}},extraReducers:(s={},Object(h.a)(s,I.pending,(function(e,t){e.isLoading=!0,e.error=null})),Object(h.a)(s,I.fulfilled,(function(e,t){e.isLoading=!1,e.error=null,e.comments=t.payload})),Object(h.a)(s,I.rejected,(function(e,t){e.isLoading=!1,e.comments=null,e.error=t.payload})),s)}),F=T.actions.deleteComments,A=T.reducer,D=function(e){var t=Object(j.b)(),n=Object(r.useState)(""),c=Object(d.a)(n,2),s=c[0],o=c[1],i=e.communities.map((function(e){return Object(P.jsx)(B,{name:e,clicked:function(){return o(n=e),t(F()),void t(v(C(n)));var n}},e)}));return Object(P.jsxs)("div",{children:[Object(P.jsx)("ul",{className:L.a.Communities,children:i}),Object(P.jsx)("h2",{children:s.toUpperCase()})]})},R=n(22),V=n.n(R),E=n(7),z=n.n(E),G=n(23),H=n.n(G),K=n(24),M=n(25),U=n(28),q=n(27),J=(o.a.Component,n(14)),W=n.n(J),Z=function(e){var t=e.author,n=e.text;return Object(P.jsxs)("div",{className:W.a.Comment,children:[Object(P.jsx)("strong",{children:Object(P.jsx)("em",{className:W.a.Author,children:t})}),Object(P.jsx)("p",{className:W.a.CommentText,children:n})]})},Q=function(e){var t=Object(j.c)((function(e){return e.comments.comments})),n=Object(r.useState)([]),c=Object(d.a)(n,2),s=c[0],o=c[1],i=Object(j.c)((function(e){return e.comments.error}));return Object(r.useEffect)((function(){if(t[1]&&t[0]){if(e.postId!==t[0].data.children[0].data.id)return;o(t[1].data)}}),[t]),null!==i?Object(P.jsx)("h2",{children:"Error fetching data..."}):s.children?Object(P.jsx)("section",{className:H.a.Comments,children:s.children.map((function(e){var t=e.data,n=t.author,c=t.body,s=t.id;return Object(P.jsx)(Z,{author:n,text:c},s)}))}):null},X=function(e){var t=Object(j.b)(),n=Object(r.useState)(!1),c=Object(d.a)(n,2),s=c[0],o=c[1],i=e.id,a=e.title,u=e.url,l=e.permalink,m=e.author,b=e.text,O=e.upvotes;return Object(P.jsxs)("article",{className:z.a.Post,children:[Object(P.jsx)("a",{href:u,target:"_blank",children:Object(P.jsx)("h3",{children:a})}),Object(P.jsx)("h5",{children:m}),u.endsWith("jpg")||u.endsWith("png")?Object(P.jsx)("img",{className:z.a.PostImage,alt:a,src:e.url}):null,Object(P.jsx)("p",{className:z.a.Text,children:b}),Object(P.jsx)("hr",{}),Object(P.jsxs)("section",{className:z.a.BottomSection,children:[Object(P.jsxs)("section",{className:z.a.BottomSectionInfo,children:[Object(P.jsxs)("div",{className:z.a.Votes,children:[Object(P.jsxs)("em",{children:[O," upvotes"]}),Object(P.jsx)("br",{})]}),Object(P.jsx)("button",{className:z.a.FetchCommentsBtn,onClick:function(){t(s?F():I(l)),o((function(e){return console.log(e)}))},children:Object(P.jsx)("strong",{children:"Comments"})})]}),Object(P.jsx)("section",{className:z.a.Comments,children:Object(P.jsx)(Q,{postId:i})})]})]})},Y=function(e){return e.error?Object(P.jsx)("h2",{children:e.error.message}):Object(P.jsx)("section",{children:Object(P.jsx)("h2",{children:"Something went wrong."})})},$=n(26),ee=n.n($),te=function(){return Object(P.jsxs)("div",{className:ee.a.ldsDefault,children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{})]})},ne=function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],o=Object(j.c)((function(e){return e.posts.isLoading})),i=Object(j.c)((function(e){return e.posts.error})),a=Object(j.c)((function(e){return e.posts.posts}));return Object(r.useEffect)((function(){if(!a)return Object(P.jsx)(Y,{});a.data&&s(a.data.children)}),[a]),null!==i?Object(P.jsx)(Y,{error:i}):o?Object(P.jsx)(te,{}):c.length>0?Object(P.jsx)("section",{className:V.a.Posts,children:c.map((function(e){var t=e.data,n=t.id,c=t.author,s=t.title,r=t.selftext,o=t.url,i=t.ups,a=t.downs,j=t.permalink;return Object(P.jsx)(X,{id:n,title:s,author:c,text:r,url:o,upvotes:i,downvotes:a,permalink:j},n)}))}):null},ce=function(){var e=Object(u.g)(),t=Object(j.b)();return e.community&&t(v(C(e.community))),Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(S,{}),Object(P.jsxs)("main",{children:[Object(P.jsx)(D,{communities:["fitness","programming","running","boxing","yoga","weight loss","entrepreneurship","business","parenting","calisthenics","webdev"]}),Object(P.jsx)(ne,{})]})]})};var se=function(){var e=Object(j.b)();Object(r.useEffect)((function(){e(F()),e(v(C("popular")))}),[]);var t=Object(P.jsxs)(u.c,{children:[Object(P.jsx)(u.a,{path:":community",element:Object(P.jsx)(ce,{})}),Object(P.jsx)(u.a,{path:"/",exact:!0,element:Object(P.jsx)(ce,{})})]});return Object(P.jsx)(o.a.Fragment,{children:t})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))},oe=n(11),ie=Object(_.a)({reducer:{posts:g,comments:A}});a.a.render(Object(P.jsx)(j.a,{store:ie,children:Object(P.jsx)(oe.a,{children:Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(se,{})})})}),document.getElementById("root")),re()}],[[43,1,2]]]);
//# sourceMappingURL=main.d6df841c.chunk.js.map